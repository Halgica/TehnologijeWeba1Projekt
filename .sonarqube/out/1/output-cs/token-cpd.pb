…#
OC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\UserRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public		 

class		 
UserRepository		 
:		  !
IUserRepository		" 1
{

 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
UserRepository 
( 
TW1DbContext *
	dbContext+ 4
)4 5
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
User# '
entity( .
). /
{ 	
await 
	dbContext 
. 
Users !
.! "
AddAsync" *
(* +
entity+ 1
)1 2
;2 3
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
DeleteAsync %
(% &
User& *
entity+ 1
)1 2
{ 	
	dbContext 
. 
Users 
. 
Remove "
(" #
entity# )
)) *
;* +
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
User& *
>* +
>+ ,
	FindAsync- 6
(6 7

Expression7 A
<A B
FuncB F
<F G
UserG K
,K L
boolM Q
>Q R
>R S
	predicateT ]
)] ^
{ 	
return   
await   
	dbContext   "
.  " #
Users  # (
.  ( )
Where  ) .
(  . /
	predicate  / 8
)  8 9
.  9 :
ToListAsync  : E
(  E F
)  F G
;  G H
}!! 	
public## 
async## 
Task## 
<## 
IEnumerable## %
<##% &
User##& *
>##* +
>##+ ,
GetAllAsync##- 8
(##8 9
)##9 :
{$$ 	
return%% 
await%% 
	dbContext%% "
.%%" #
Users%%# (
.%%( )
ToListAsync%%) 4
(%%4 5
)%%5 6
;%%6 7
}&& 	
public(( 
async(( 
Task(( 
<(( 
User(( 
?(( 
>((  
GetByEmailAsync((! 0
(((0 1
string((1 7
email((8 =
)((= >
{)) 	
return** 
await** 
	dbContext** "
.**" #
Users**# (
.**( )
FirstOrDefaultAsync**) <
(**< =
u**= >
=>**? A
u**B C
.**C D
Email**D I
==**J L
email**M R
)**R S
;**S T
}++ 	
public-- 
async-- 
Task-- 
<-- 
User-- 
?-- 
>--  
GetByIdAsync--! -
(--- .
int--. 1
id--2 4
)--4 5
{.. 	
return// 
await// 
	dbContext// "
.//" #
Users//# (
.//( )
FirstOrDefaultAsync//) <
(//< =
u//= >
=>//? A
u//B C
.//C D
Id//D F
==//G I
id//J L
)//L M
;//M N
}00 	
public22 
async22 
Task22 
SaveChangesAsync22 *
(22* +
)22+ ,
{33 	
await44 
	dbContext44 
.44 
SaveChangesAsync44 ,
(44, -
)44- .
;44. /
}55 	
public77 
async77 
Task77 
UpdateAsync77 %
(77% &
User77& *
entity77+ 1
)771 2
{88 	
	dbContext99 
.99 
Users99 
.99 
Update99 "
(99" #
entity99# )
)99) *
;99* +
await:: 
SaveChangesAsync:: "
(::" #
)::# $
;::$ %
};; 	
}<< 
}== ¡
SC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\TimeSlotRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class 
TimeSlotRepository #
:$ %
ITimeSlotRepository& 9
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
TimeSlotRepository !
(! "
TW1DbContext" .
	dbContext/ 8
)8 9
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
TimeSlot# +
entity, 2
)2 3
{ 	
await 
	dbContext 
. 
	TimeSlots %
.% &
AddAsync& .
(. /
entity/ 5
)5 6
;6 7
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
DeleteAsync %
(% &
TimeSlot& .
entity/ 5
)5 6
{ 	
	dbContext 
. 
	TimeSlots 
.  
Remove  &
(& '
entity' -
)- .
;. /
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
TimeSlot""& .
>"". /
>""/ 0
	FindAsync""1 :
("": ;

Expression""; E
<""E F
Func""F J
<""J K
TimeSlot""K S
,""S T
bool""U Y
>""Y Z
>""Z [
	predicate""\ e
)""e f
{## 	
return$$ 
await$$ 
	dbContext$$ "
.$$" #
	TimeSlots$$# ,
.$$, -
Where$$- 2
($$2 3
	predicate$$3 <
)$$< =
.$$= >
ToListAsync$$> I
($$I J
)$$J K
;$$K L
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
TimeSlot''& .
>''. /
>''/ 0
GetAllAsync''1 <
(''< =
)''= >
{(( 	
return)) 
await)) 
	dbContext)) "
.))" #
	TimeSlots))# ,
.)), -
ToListAsync))- 8
())8 9
)))9 :
;)): ;
}** 	
public,, 
async,, 
Task,, 
<,, 
TimeSlot,, "
?,," #
>,,# $
GetByIdAsync,,% 1
(,,1 2
int,,2 5
id,,6 8
),,8 9
{-- 	
return.. 
await.. 
	dbContext.. "
..." #
	TimeSlots..# ,
..., -
FirstOrDefaultAsync..- @
(..@ A
x..A B
=>..C E
x..F G
...G H
Id..H J
==..K M
id..N P
)..P Q
;..Q R
}// 	
public11 
async11 
Task11 
SaveChangesAsync11 *
(11* +
)11+ ,
{22 	
await33 
	dbContext33 
.33 
SaveChangesAsync33 ,
(33, -
)33- .
;33. /
}44 	
public66 
async66 
Task66 
UpdateAsync66 %
(66% &
TimeSlot66& .
entity66/ 5
)665 6
{77 	
	dbContext88 
.88 
	TimeSlots88 
.88  
Update88  &
(88& '
entity88' -
)88- .
;88. /
await99 
SaveChangesAsync99 "
(99" #
)99# $
;99$ %
}:: 	
};; 
}<< ã#
OC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\RoleRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class 
RoleRepository 
:  !
IRoleRepository" 1
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
RoleRepository 
( 
TW1DbContext *
	dbContext+ 4
)4 5
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
Role# '
entity( .
). /
{ 	
await 
	dbContext 
. 
Roles !
.! "
AddAsync" *
(* +
entity+ 1
)1 2
;2 3
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
DeleteAsync %
(% &
Role& *
entity+ 1
)1 2
{ 	
	dbContext 
. 
Roles 
. 
Remove "
(" #
entity# )
)) *
;* +
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
Role""& *
>""* +
>""+ ,
	FindAsync""- 6
(""6 7

Expression""7 A
<""A B
Func""B F
<""F G
Role""G K
,""K L
bool""M Q
>""Q R
>""R S
	predicate""T ]
)""] ^
{## 	
return$$ 
await$$ 
	dbContext$$ "
.$$" #
Roles$$# (
.$$( )
Where$$) .
($$. /
	predicate$$/ 8
)$$8 9
.$$9 :
ToListAsync$$: E
($$E F
)$$F G
;$$G H
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
Role''& *
>''* +
>''+ ,
GetAllAsync''- 8
(''8 9
)''9 :
{(( 	
return)) 
await)) 
	dbContext)) "
.))" #
Roles))# (
.))( )
ToListAsync))) 4
())4 5
)))5 6
;))6 7
}** 	
public,, 
async,, 
Task,, 
<,, 
Role,, 
?,, 
>,,  
GetByIdAsync,,! -
(,,- .
int,,. 1
id,,2 4
),,4 5
{-- 	
return.. 
await.. 
	dbContext.. "
..." #
Roles..# (
...( )
FirstOrDefaultAsync..) <
(..< =
r..= >
=>..? A
r..B C
...C D
Id..D F
==..G I
id..J L
)..L M
;..M N
}// 	
public11 
async11 
Task11 
<11 
IEnumerable11 %
<11% &
Role11& *
>11* +
>11+ ,
GetByNameAsync11- ;
(11; <
RoleName11< D
name11E I
)11I J
{22 	
return33 
await33 
	dbContext33 "
.33" #
Roles33# (
.33( )
Where33) .
(33. /
r33/ 0
=>331 3
r334 5
.335 6
Name336 :
==33; =
name33> B
)33B C
.33C D
ToListAsync33D O
(33O P
)33P Q
;33Q R
}44 	
public66 
async66 
Task66 
SaveChangesAsync66 *
(66* +
)66+ ,
{77 	
await88 
	dbContext88 
.88 
SaveChangesAsync88 ,
(88, -
)88- .
;88. /
}99 	
public;; 
async;; 
Task;; 
UpdateAsync;; %
(;;% &
Role;;& *
entity;;+ 1
);;1 2
{<< 	
	dbContext== 
.== 
Roles== 
.== 
Update== "
(==" #
entity==# )
)==) *
;==* +
await>> 
SaveChangesAsync>> "
(>>" #
)>># $
;>>$ %
}?? 	
}@@ 
}AA Í)
QC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\ReviewRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class 
ReviewRepository !
:" #
IReviewRepository$ 5
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
ReviewRepository 
(  
TW1DbContext  ,
	dbContext- 6
)6 7
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
Review# )
entity* 0
)0 1
{ 	
await 
	dbContext 
. 
Reviews #
.# $
AddAsync$ ,
(, -
entity- 3
)3 4
;4 5
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
DeleteAsync %
(% &
Review& ,
entity- 3
)3 4
{ 	
	dbContext 
. 
Reviews 
. 
Remove $
($ %
entity% +
)+ ,
;, -
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
Review""& ,
>"", -
>""- .
	FindAsync""/ 8
(""8 9

Expression""9 C
<""C D
Func""D H
<""H I
Review""I O
,""O P
bool""Q U
>""U V
>""V W
	predicate""X a
)""a b
{## 	
return$$ 
await$$ 
	dbContext$$ "
.$$" #
Reviews$$# *
.$$* +
Where$$+ 0
($$0 1
	predicate$$1 :
)$$: ;
.$$; <
ToListAsync$$< G
($$G H
)$$H I
;$$I J
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
Review''& ,
>'', -
>''- .
GetAllAsync''/ :
('': ;
)''; <
{(( 	
return)) 
await)) 
	dbContext)) "
.))" #
Reviews))# *
.))* +
ToListAsync))+ 6
())6 7
)))7 8
;))8 9
}** 	
public,, 
async,, 
Task,, 
<,, 
IEnumerable,, %
<,,% &
Review,,& ,
>,,, -
>,,- . 
GetByEscapeRoomAsync,,/ C
(,,C D
string,,D J

escapeRoom,,K U
),,U V
{-- 	
return.. 
await.. 
	dbContext.. "
..." #
Reviews..# *
.// 
Where// 
(// 
r// 
=>// 
r// 
.// 

EscapeRoom// (
.//( )
Name//) -
==//. 0

escapeRoom//1 ;
)//; <
.00 
ToListAsync00 
(00 
)00 
;00 
}11 	
public33 
async33 
Task33 
<33 
Review33  
?33  !
>33! "
GetByIdAsync33# /
(33/ 0
int330 3
id334 6
)336 7
{44 	
return55 
await55 
	dbContext55 "
.55" #
Reviews55# *
.55* +
FirstOrDefaultAsync55+ >
(55> ?
r55? @
=>55A C
r55D E
.55E F
Id55F H
==55I K
id55L N
)55N O
;55O P
}66 	
public88 
async88 
Task88 
<88 
IEnumerable88 %
<88% &
Review88& ,
>88, -
>88- .
GetByRatingAsync88/ ?
(88? @
int88@ C
rating88D J
)88J K
{99 	
return:: 
await:: 
	dbContext:: "
.::" #
Reviews::# *
.::* +
Where::+ 0
(::0 1
r::1 2
=>::3 5
r::6 7
.::7 8
Rating::8 >
==::? A
rating::B H
)::H I
.::I J
ToListAsync::J U
(::U V
)::V W
;::W X
};; 	
public== 
async== 
Task== 
SaveChangesAsync== *
(==* +
)==+ ,
{>> 	
await?? 
	dbContext?? 
.?? 
SaveChangesAsync?? ,
(??, -
)??- .
;??. /
}@@ 	
publicBB 
asyncBB 
TaskBB 
UpdateAsyncBB %
(BB% &
ReviewBB& ,
entityBB- 3
)BB3 4
{CC 	
	dbContextDD 
.DD 
ReviewsDD 
.DD 
UpdateDD $
(DD$ %
entityDD% +
)DD+ ,
;DD, -
awaitEE 
SaveChangesAsyncEE "
(EE" #
)EE# $
;EE$ %
}FF 	
}GG 
}HH Ù#
SC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\ResourceRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class 
ResourceRepository #
:$ %
IResourceRepository& 9
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
ResourceRepository !
(! "
TW1DbContext" .
	dbContext/ 8
)8 9
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
Resource# +
resource, 4
)4 5
{ 	
await 
	dbContext 
. 
	Resources %
.% &
AddAsync& .
(. /
resource/ 7
)7 8
;8 9
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
UpdateAsync %
(% &
Resource& .
resource/ 7
)7 8
{ 	
	dbContext 
. 
	Resources 
.  
Update  &
(& '
resource' /
)/ 0
;0 1
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
DeleteAsync"" %
(""% &
Resource""& .
resource""/ 7
)""7 8
{## 	
	dbContext$$ 
.$$ 
	Resources$$ 
.$$  
Remove$$  &
($$& '
resource$$' /
)$$/ 0
;$$0 1
await%% 
SaveChangesAsync%% "
(%%" #
)%%# $
;%%$ %
}&& 	
public(( 
async(( 
Task(( 
<(( 
Resource(( "
?((" #
>((# $
GetByIdAsync((% 1
(((1 2
int((2 5
id((6 8
)((8 9
{)) 	
return** 
await** 
	dbContext** "
.**" #
	Resources**# ,
.**, -
FirstOrDefaultAsync**- @
(**@ A
r**A B
=>**C E
r**F G
.**G H
Id**H J
==**K M
id**N P
)**P Q
;**Q R
}++ 	
public-- 
async-- 
Task-- 
<-- 
Resource-- "
?--" #
>--# $
GetByNameAsync--% 3
(--3 4
string--4 :
name--; ?
)--? @
{.. 	
return// 
await// 
	dbContext// "
.//" #
	Resources//# ,
.//, -
FirstOrDefaultAsync//- @
(//@ A
r//A B
=>//C E
r//F G
.//G H
Name//H L
==//M O
name//P T
)//T U
;//U V
}00 	
public22 
async22 
Task22 
<22 
IEnumerable22 %
<22% &
Resource22& .
>22. /
>22/ 0
GetAllAsync221 <
(22< =
)22= >
{33 	
return44 
await44 
	dbContext44 "
.44" #
	Resources44# ,
.44, -
ToListAsync44- 8
(448 9
)449 :
;44: ;
}55 	
public77 
async77 
Task77 
<77 
IEnumerable77 %
<77% &
Resource77& .
>77. /
>77/ 0
	FindAsync771 :
(77: ;

Expression77; E
<77E F
Func77F J
<77J K
Resource77K S
,77S T
bool77U Y
>77Y Z
>77Z [
	predicate77\ e
)77e f
{88 	
return99 
await99 
	dbContext99 "
.99" #
	Resources99# ,
.99, -
Where99- 2
(992 3
	predicate993 <
)99< =
.99= >
ToListAsync99> I
(99I J
)99J K
;99K L
}:: 	
public<< 
async<< 
Task<< 
SaveChangesAsync<< *
(<<* +
)<<+ ,
{== 	
await>> 
	dbContext>> 
.>> 
SaveChangesAsync>> ,
(>>, -
)>>- .
;>>. /
}?? 	
}@@ 
}AA °*
VC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\ReservationRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class !
ReservationRepository &
:' ("
IReservationRepository) ?
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public !
ReservationRepository $
($ %
TW1DbContext% 1
	dbContext2 ;
); <
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
Reservation# .
reservation/ :
): ;
{ 	
await 
	dbContext 
. 
Reservations (
.( )
AddAsync) 1
(1 2
reservation2 =
)= >
;> ?
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
UpdateAsync %
(% &
Reservation& 1
reservation2 =
)= >
{ 	
	dbContext 
. 
Reservations "
." #
Update# )
() *
reservation* 5
)5 6
;6 7
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
DeleteAsync"" %
(""% &
Reservation""& 1
reservation""2 =
)""= >
{## 	
	dbContext$$ 
.$$ 
Reservations$$ "
.$$" #
Remove$$# )
($$) *
reservation$$* 5
)$$5 6
;$$6 7
await%% 
SaveChangesAsync%% "
(%%" #
)%%# $
;%%$ %
}&& 	
public(( 
async(( 
Task(( 
<(( 
Reservation(( %
?((% &
>((& '
GetByIdAsync((( 4
(((4 5
int((5 8
id((9 ;
)((; <
{)) 	
return** 
await** 
	dbContext** "
.**" #
Reservations**# /
.**/ 0
FirstOrDefaultAsync**0 C
(**C D
r**D E
=>**F H
r**I J
.**J K
Id**K M
==**N P
id**Q S
)**S T
;**T U
}++ 	
public-- 
async-- 
Task-- 
<-- 
IEnumerable-- %
<--% &
Reservation--& 1
>--1 2
>--2 3
GetAllAsync--4 ?
(--? @
)--@ A
{.. 	
return// 
await// 
	dbContext// "
.//" #
Reservations//# /
./// 0
ToListAsync//0 ;
(//; <
)//< =
;//= >
}00 	
public22 
async22 
Task22 
<22 
IEnumerable22 %
<22% &
Reservation22& 1
>221 2
>222 3
	FindAsync224 =
(22= >

Expression22> H
<22H I
Func22I M
<22M N
Reservation22N Y
,22Y Z
bool22[ _
>22_ `
>22` a
	predicate22b k
)22k l
{33 	
return44 
await44 
	dbContext44 "
.44" #
Reservations44# /
.44/ 0
Where440 5
(445 6
	predicate446 ?
)44? @
.44@ A
ToListAsync44A L
(44L M
)44M N
;44N O
}55 	
public77 
async77 
Task77 
SaveChangesAsync77 *
(77* +
)77+ ,
{88 	
await99 
	dbContext99 
.99 
SaveChangesAsync99 ,
(99, -
)99- .
;99. /
}:: 	
public<< 
async<< 
Task<< 
<<< 
IEnumerable<< %
<<<% &
Reservation<<& 1
><<1 2
><<2 3
GetByUserIdAsync<<4 D
(<<D E
int<<E H
userId<<I O
)<<O P
{== 	
return>> 
await>> 
	dbContext>> "
.>>" #
Reservations>># /
.>>/ 0
Where>>0 5
(>>5 6
r>>6 7
=>>>8 :
r>>; <
.>>< =
UserId>>= C
==>>D F
userId>>G M
)>>M N
.>>N O
ToListAsync>>O Z
(>>Z [
)>>[ \
;>>\ ]
}?? 	
publicAA 
asyncAA 
TaskAA 
<AA 
IEnumerableAA %
<AA% &
ReservationAA& 1
>AA1 2
>AA2 3 
GetByResourceIdAsyncAA4 H
(AAH I
intAAI L

resourceIdAAM W
)AAW X
{BB 	
returnCC 
awaitCC 
	dbContextCC "
.CC" #
ReservationsCC# /
.CC/ 0
WhereCC0 5
(CC5 6
rCC6 7
=>CC8 :
rCC; <
.CC< =

ResourceIdCC= G
==CCH J

resourceIdCCK U
)CCU V
.CCV W
ToListAsyncCCW b
(CCb c
)CCc d
;CCd e
}DD 	
}EE 
}FF Ž(
TC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\PromotionRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class 
PromotionRepository $
:% & 
IPromotionRepository' ;
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
PromotionRepository "
(" #
TW1DbContext# /
	dbContext0 9
)9 :
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
	Promotion# ,
entity- 3
)3 4
{ 	
await 
	dbContext 
. 

Promotions &
.& '
AddAsync' /
(/ 0
entity0 6
)6 7
;7 8
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
DeleteAsync %
(% &
	Promotion& /
entity0 6
)6 7
{ 	
	dbContext 
. 

Promotions  
.  !
Remove! '
(' (
entity( .
). /
;/ 0
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
	Promotion""& /
>""/ 0
>""0 1
	FindAsync""2 ;
(""; <

Expression""< F
<""F G
Func""G K
<""K L
	Promotion""L U
,""U V
bool""W [
>""[ \
>""\ ]
	predicate""^ g
)""g h
{## 	
return$$ 
await$$ 
	dbContext$$ "
.$$" #

Promotions$$# -
.$$- .
Where$$. 3
($$3 4
	predicate$$4 =
)$$= >
.$$> ?
ToListAsync$$? J
($$J K
)$$K L
;$$L M
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
	Promotion''& /
>''/ 0
>''0 1
GetAllAsync''2 =
(''= >
)''> ?
{(( 	
return)) 
await)) 
	dbContext)) "
.))" #

Promotions))# -
.))- .
ToListAsync)). 9
())9 :
))): ;
;)); <
}** 	
public,, 
async,, 
Task,, 
<,, 
	Promotion,, #
?,,# $
>,,$ %
GetByCodeAsync,,& 4
(,,4 5
string,,5 ;
code,,< @
),,@ A
{-- 	
return.. 
await.. 
	dbContext.. "
..." #

Promotions..# -
...- .
FirstOrDefaultAsync... A
(..A B
p..B C
=>..D F
p..G H
...H I
Code..I M
==..N P
code..Q U
)..U V
;..V W
}// 	
public11 
async11 
Task11 
<11 
	Promotion11 #
?11# $
>11$ %
GetByIdAsync11& 2
(112 3
int113 6
id117 9
)119 :
{22 	
return33 
await33 
	dbContext33 "
.33" #

Promotions33# -
.33- .
FirstOrDefaultAsync33. A
(33A B
p33B C
=>33D F
p33G H
.33H I
Id33I K
==33L N
id33O Q
)33Q R
;33R S
}44 	
public66 
async66 
Task66 
<66 
	Promotion66 #
?66# $
>66$ %
GetByNameAsync66& 4
(664 5
string665 ;
name66< @
)66@ A
{77 	
return88 
await88 
	dbContext88 "
.88" #

Promotions88# -
.88- .
FirstOrDefaultAsync88. A
(88A B
p88B C
=>88D F
p88G H
.88H I
Name88I M
==88N P
name88Q U
)88U V
;88V W
}99 	
public;; 
async;; 
Task;; 
SaveChangesAsync;; *
(;;* +
);;+ ,
{<< 	
await== 
	dbContext== 
.== 
SaveChangesAsync== ,
(==, -
)==- .
;==. /
}>> 	
public@@ 
async@@ 
Task@@ 
UpdateAsync@@ %
(@@% &
	Promotion@@& /
entity@@0 6
)@@6 7
{AA 	
	dbContextBB 
.BB 

PromotionsBB  
.BB  !
UpdateBB! '
(BB' (
entityBB( .
)BB. /
;BB/ 0
awaitCC 
SaveChangesAsyncCC "
(CC" #
)CC# $
;CC$ %
}DD 	
}EE 
}FF Ã)
RC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\PaymentRepository.cs
	namespace 	
DAL
 
. 
Repos 
{ 
public 

class 
PaymentRepository "
:# $
IPaymentRepository% 7
{ 
private 
readonly 
TW1DbContext %
	dbContext& /
;/ 0
public 
PaymentRepository  
(  !
TW1DbContext! -
	dbContext. 7
)7 8
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
public 
async 
Task 
AddAsync "
(" #
Payment# *
entity+ 1
)1 2
{ 	
await 
	dbContext 
. 
Payments $
.$ %
AddAsync% -
(- .
entity. 4
)4 5
;5 6
await 
SaveChangesAsync "
(" #
)# $
;$ %
} 	
public 
async 
Task 
DeleteAsync %
(% &
Payment& -
entity. 4
)4 5
{ 	
	dbContext 
. 
Payments 
. 
Remove %
(% &
entity& ,
), -
;- .
await 
SaveChangesAsync "
(" #
)# $
;$ %
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
Payment""& -
>""- .
>"". /
	FindAsync""0 9
(""9 :

Expression"": D
<""D E
Func""E I
<""I J
Payment""J Q
,""Q R
bool""S W
>""W X
>""X Y
	predicate""Z c
)""c d
{## 	
return$$ 
await$$ 
	dbContext$$ "
.$$" #
Payments$$# +
.$$+ ,
Where$$, 1
($$1 2
	predicate$$2 ;
)$$; <
.$$< =
ToListAsync$$= H
($$H I
)$$I J
;$$J K
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
Payment''& -
>''- .
>''. /
GetAllAsync''0 ;
(''; <
)''< =
{(( 	
return)) 
await)) 
	dbContext)) "
.))" #
Payments))# +
.))+ ,
ToListAsync)), 7
())7 8
)))8 9
;))9 :
}** 	
public,, 
async,, 
Task,, 
<,, 
Payment,, !
?,,! "
>,," #
GetByIdAsync,,$ 0
(,,0 1
int,,1 4
id,,5 7
),,7 8
{-- 	
return.. 
await.. 
	dbContext.. "
..." #
Payments..# +
...+ ,
FirstOrDefaultAsync.., ?
(..? @
p..@ A
=>..B D
p..E F
...F G
Id..G I
==..J L
id..M O
)..O P
;..P Q
}// 	
public11 
async11 
Task11 
<11 
IEnumerable11 %
<11% &
Payment11& -
>11- .
>11. /!
GetByPaymentTypeAsync110 E
(11E F
PaymentType11F Q
paymentType11R ]
)11] ^
{22 	
return33 
await33 
	dbContext33 "
.33" #
Payments33# +
.33+ ,
Where33, 1
(331 2
p332 3
=>334 6
p337 8
.338 9
Type339 =
==33> @
paymentType33A L
)33L M
.33M N
ToListAsync33N Y
(33Y Z
)33Z [
;33[ \
}44 	
public66 
async66 
Task66 
<66 
IEnumerable66 %
<66% &
Payment66& -
>66- .
>66. /
GetByUserIdAsync660 @
(66@ A
int66A D
userId66E K
)66K L
{77 	
return88 
await88 
	dbContext88 "
.88" #
Payments88# +
.88+ ,
Where88, 1
(881 2
p882 3
=>884 6
p887 8
.888 9
UserId889 ?
==88@ B
userId88C I
)88I J
.88J K
ToListAsync88K V
(88V W
)88W X
;88X Y
}99 	
public;; 
async;; 
Task;; 
SaveChangesAsync;; *
(;;* +
);;+ ,
{<< 	
await== 
	dbContext== 
.== 
SaveChangesAsync== ,
(==, -
)==- .
;==. /
}>> 	
public@@ 
async@@ 
Task@@ 
UpdateAsync@@ %
(@@% &
Payment@@& -
entity@@. 4
)@@4 5
{AA 	
	dbContextBB 
.BB 
PaymentsBB 
.BB 
UpdateBB %
(BB% &
entityBB& ,
)BB, -
;BB- .
awaitCC 
SaveChangesAsyncCC "
(CC" #
)CC# $
;CC$ %
}DD 	
}EE 
}FF ä
ZC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IUserRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{ 
public 

	interface 
IUserRepository $
:% &
IRepository' 2
<2 3
User3 7
>7 8
{ 
Task		 
<		 
User		 
?		 
>		 
GetByEmailAsync		 #
(		# $
string		$ *
email		+ 0
)		0 1
;		1 2
}

 
} ®
^C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\ITimeSlotRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{		 
public

 

	interface

 
ITimeSlotRepository

 (
:

) *
IRepository

+ 6
<

6 7
TimeSlot

7 ?
>

? @
{ 
} 
} Œ
ZC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IRoleRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{ 
public 

	interface 
IRoleRepository $
:% &
IRepository' 2
<2 3
Role3 7
>7 8
{ 
Task		 
<		 
IEnumerable		 
<		 
Role		 
>		 
>		 
GetByNameAsync		  .
(		. /
RoleName		/ 7
name		8 <
)		< =
;		= >
}

 
} ±
\C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IReviewRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{		 
public

 

	interface

 
IReviewRepository

 &
:

' (
IRepository

) 4
<

4 5
Review

5 ;
>

; <
{ 
public 
Task 
< 
IEnumerable 
<  
Review  &
>& '
>' (
GetByRatingAsync) 9
(9 :
int: =
rating> D
)D E
;E F
public 
Task 
< 
IEnumerable 
<  
Review  &
>& '
>' ( 
GetByEscapeRoomAsync) =
(= >
string> D

escapeRoomE O
)O P
;P Q
} 
} ò
^C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IResourceRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{ 
public 

	interface 
IResourceRepository (
:) *
IRepository+ 6
<6 7
Resource7 ?
>? @
{ 
Task		 
<		 
Resource		 
?		 
>		 
GetByNameAsync		 &
(		& '
string		' -
name		. 2
)		2 3
;		3 4
}

 
} Ÿ
aC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IReservationRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{ 
public 

	interface "
IReservationRepository +
:, -
IRepository. 9
<9 :
Reservation: E
>E F
{ 
Task		 
<		 
IEnumerable		 
<		 
Reservation		 $
>		$ %
>		% &
GetByUserIdAsync		' 7
(		7 8
int		8 ;
userId		< B
)		B C
;		C D
Task

 
<

 
IEnumerable

 
<

 
Reservation

 $
>

$ %
>

% & 
GetByResourceIdAsync

' ;
(

; <
int

< ?

resourceId

@ J
)

J K
;

K L
} 
} ×
VC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{		 
public

 

	interface

 
IRepository

  
<

  !
T

! "
>

" #
where

$ )
T

* +
:

, -
class

. 3
{ 
Task 
< 
IEnumerable 
< 
T 
> 
> 
GetAllAsync (
(( )
)) *
;* +
Task 
< 
T 
? 
> 
GetByIdAsync 
( 
int !
id" $
)$ %
;% &
Task 
< 
IEnumerable 
< 
T 
> 
> 
	FindAsync &
(& '

Expression' 1
<1 2
Func2 6
<6 7
T7 8
,8 9
bool: >
>> ?
>? @
	predicateA J
)J K
;K L
Task 
AddAsync 
( 
T 
entity 
) 
;  
Task 
UpdateAsync 
( 
T 
entity !
)! "
;" #
Task 
DeleteAsync 
( 
T 
entity !
)! "
;" #
Task 
SaveChangesAsync 
( 
) 
;  
} 
} ã
_C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IPromotionRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{		 
public

 

	interface

  
IPromotionRepository

 )
:

* +
IRepository

, 7
<

7 8
	Promotion

8 A
>

A B
{ 
public 
Task 
< 
	Promotion 
? 
> 
GetByNameAsync  .
(. /
string/ 5
name6 :
): ;
;; <
public 
Task 
< 
	Promotion 
? 
> 
GetByCodeAsync  .
(. /
string/ 5
code6 :
): ;
;; <
} 
} •
]C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Repos\Interface\IPaymentRepository.cs
	namespace 	
DAL
 
. 
Repos 
. 
	Interface 
{		 
public

 

	interface

 
IPaymentRepository

 '
:

( )
IRepository

* 5
<

5 6
Payment

6 =
>

= >
{ 
Task 
< 
IEnumerable 
< 
Payment  
>  !
>! "
GetByUserIdAsync# 3
(3 4
int4 7
userId8 >
)> ?
;? @
Task 
< 
IEnumerable 
< 
Payment  
>  !
>! "!
GetByPaymentTypeAsync# 8
(8 9
PaymentType9 D
paymentTypeE P
)P Q
;Q R
} 
} ³	
FC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\User.cs
	namespace 	
DAL
 
. 
Models 
{ 
public 

class 
User 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
required 
string 
Name #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
required 
string 
Email $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
int 
RoleId 
{ 
get 
;  
set! $
;$ %
}& '
=( )
$num* +
;+ ,
public		 
virtual		 
IList		 
<		 
Reservation		 (
>		( )
?		) *
Reservations		+ 7
{		8 9
get		: =
;		= >
set		? B
;		B C
}		D E
}

 
} ¦
JC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\TimeSlot.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
TimeSlot		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
DateTime 
	StartTime !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
EndTime 
{  !
get" %
;% &
set' *
;* +
}, -
public 
bool 

IsReserved 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
false/ 4
;4 5
} 
} ©
FC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\Role.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
Role		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
RoleName 
Name 
{ 
get "
;" #
set$ '
;' (
}) *
public 
virtual 
IList 
< 
User !
>! "
?" #
users$ )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
} 
public 

enum 
RoleName 
{ 
user 
, 
admin 
} 
} û
HC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\Review.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
Review		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
int 
EscapeRoomId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
Rating 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
? 
Content 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 

ReviewTime "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
DateTime3 ;
.; <
Now< ?
;? @
public 
required 
virtual 
Resource  (

EscapeRoom) 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
required 
virtual 
AuthUser  (
User) -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
} 
} ò
JC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\Resource.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
Resource		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
? 
Name 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ‘
MC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\Reservation.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
Reservation		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 

ResourceId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
	StartTime !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
EndTime 
{  !
get" %
;% &
set' *
;* +
}, -
public 
virtual 
AuthUser 
?  
User! %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
Resource 
?  
Resource! )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
} 
} Ö	
KC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\Promotion.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
	Promotion		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
? 
Name 
{ 
get !
;! "
set# &
;& '
}( )
public 
required 
string 
Code #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
float 
DiscountAmount #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
DateTime 
PromotionEndTime (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
int 

UsageCount 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ‹	
IC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\Payment.cs
	namespace 	
DAL
 
. 
Models 
{ 
public		 

class		 
Payment		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
PaymentType 
Type 
{  !
get" %
;% &
set' *
;* +
}, -
public 
virtual 
AuthUser 
?  
User! %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
public 

enum 
PaymentType 
{ 
Cash 
, 
Card 
, 
ApplePay 
, 
	GooglePay 
, 
PayPal 
} 
} ³
JC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\AuthUser.cs
	namespace		 	
DAL		
 
.		 
Models		 
{

 
public 

class 
AuthUser 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	

JsonIgnore	 
] 
public 
string 
PasswordHash "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 
int 
RoleId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
RefreshToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 
virtual 
AuthRole 
Role  $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
null5 9
!9 :
;: ;
public 
virtual 
List 
< 
Reservation '
>' (
?( )
Reservations* 6
{7 8
get9 <
;< =
set> A
;A B
}C D
} 
}  
JC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Models\AuthRole.cs
	namespace 	
DAL
 
. 
Models 
{ 
public 

class 
AuthRole 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 
int 
RoleId 
{ 
get 
;  
set! $
;$ %
}& '
}		 
}

 ö
bC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250613074700_TimeForObrana.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
TimeForObrana &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} ö&
hC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250609091815_AddReservationTimes.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public		 

partial		 
class		 
AddReservationTimes		 ,
:		- .
	Migration		/ 8
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 8
,8 9
table 
: 
$str %
)% &
;& '
migrationBuilder 
. 
	DropIndex &
(& '
name 
: 
$str .
,. /
table 
: 
$str %
)% &
;& '
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str %
)% &
;& '
migrationBuilder 
. 
	AddColumn &
<& '
DateTime' /
>/ 0
(0 1
name 
: 
$str 
,  
table 
: 
$str %
,% &
type 
: 
$str !
,! "
nullable 
: 
false 
,  
defaultValue 
: 
new !
DateTime" *
(* +
$num+ ,
,, -
$num. /
,/ 0
$num1 2
,2 3
$num4 5
,5 6
$num7 8
,8 9
$num: ;
,; <
$num= >
,> ?
DateTimeKind@ L
.L M
UnspecifiedM X
)X Y
)Y Z
;Z [
migrationBuilder!! 
.!! 
	AddColumn!! &
<!!& '
DateTime!!' /
>!!/ 0
(!!0 1
name"" 
:"" 
$str"" !
,""! "
table## 
:## 
$str## %
,##% &
type$$ 
:$$ 
$str$$ !
,$$! "
nullable%% 
:%% 
false%% 
,%%  
defaultValue&& 
:&& 
new&& !
DateTime&&" *
(&&* +
$num&&+ ,
,&&, -
$num&&. /
,&&/ 0
$num&&1 2
,&&2 3
$num&&4 5
,&&5 6
$num&&7 8
,&&8 9
$num&&: ;
,&&; <
$num&&= >
,&&> ?
DateTimeKind&&@ L
.&&L M
Unspecified&&M X
)&&X Y
)&&Y Z
;&&Z [
}'' 	
	protected** 
override** 
void** 
Down**  $
(**$ %
MigrationBuilder**% 5
migrationBuilder**6 F
)**F G
{++ 	
migrationBuilder,, 
.,, 

DropColumn,, '
(,,' (
name-- 
:-- 
$str-- 
,--  
table.. 
:.. 
$str.. %
)..% &
;..& '
migrationBuilder00 
.00 

DropColumn00 '
(00' (
name11 
:11 
$str11 !
,11! "
table22 
:22 
$str22 %
)22% &
;22& '
migrationBuilder44 
.44 
	AddColumn44 &
<44& '
int44' *
>44* +
(44+ ,
name55 
:55 
$str55 
,55 
table66 
:66 
$str66 %
,66% &
type77 
:77 
$str77 
,77 
nullable88 
:88 
false88 
,88  
defaultValue99 
:99 
$num99 
)99  
;99  !
migrationBuilder;; 
.;; 
CreateIndex;; (
(;;( )
name<< 
:<< 
$str<< .
,<<. /
table== 
:== 
$str== %
,==% &
column>> 
:>> 
$str>>  
)>>  !
;>>! "
migrationBuilder@@ 
.@@ 
AddForeignKey@@ *
(@@* +
nameAA 
:AA 
$strAA 8
,AA8 9
tableBB 
:BB 
$strBB %
,BB% &
columnCC 
:CC 
$strCC  
,CC  !
principalTableDD 
:DD 
$strDD  +
,DD+ ,
principalColumnEE 
:EE  
$strEE! %
,EE% &
onDeleteFF 
:FF 
ReferentialActionFF +
.FF+ ,
CascadeFF, 3
)FF3 4
;FF4 5
}GG 	
}HH 
}II ø
cC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250609085407_RemoveTimeSlot.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
RemoveTimeSlot '
:( )
	Migration* 3
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} W
gC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250608155654_RemoveNameFromUser.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
RemoveNameFromUser +
:, -
	Migration. 7
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 0
,0 1
table 
: 
$str !
)! "
;" #
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 4
,4 5
table 
: 
$str %
)% &
;& '
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str /
,/ 0
table 
: 
$str  
)  !
;! "
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str 
) 
;  
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str "
)" #
;# $
migrationBuilder!! 
.!! 
	AddColumn!! &
<!!& '
int!!' *
>!!* +
(!!+ ,
name"" 
:"" 
$str"" "
,""" #
table## 
:## 
$str## %
,##% &
type$$ 
:$$ 
$str$$ 
,$$ 
nullable%% 
:%% 
true%% 
)%% 
;%%  
migrationBuilder'' 
.'' 
	AddColumn'' &
<''& '
int''' *
>''* +
(''+ ,
name(( 
:(( 
$str(( 
,((  
table)) 
:)) 
$str)) %
,))% &
type** 
:** 
$str** 
,** 
nullable++ 
:++ 
true++ 
)++ 
;++  
migrationBuilder-- 
.-- 
CreateIndex-- (
(--( )
name.. 
:.. 
$str.. 2
,..2 3
table// 
:// 
$str// %
,//% &
column00 
:00 
$str00 $
)00$ %
;00% &
migrationBuilder22 
.22 
CreateIndex22 (
(22( )
name33 
:33 
$str33 /
,33/ 0
table44 
:44 
$str44 %
,44% &
column55 
:55 
$str55 !
)55! "
;55" #
migrationBuilder77 
.77 
AddForeignKey77 *
(77* +
name88 
:88 
$str88 4
,884 5
table99 
:99 
$str99 !
,99! "
column:: 
::: 
$str::  
,::  !
principalTable;; 
:;; 
$str;;  +
,;;+ ,
principalColumn<< 
:<<  
$str<<! %
,<<% &
onDelete== 
:== 
ReferentialAction== +
.==+ ,
Cascade==, 3
)==3 4
;==4 5
migrationBuilder?? 
.?? 
AddForeignKey?? *
(??* +
name@@ 
:@@ 
$str@@ <
,@@< =
tableAA 
:AA 
$strAA %
,AA% &
columnBB 
:BB 
$strBB $
,BB$ %
principalTableCC 
:CC 
$strCC  +
,CC+ ,
principalColumnDD 
:DD  
$strDD! %
)DD% &
;DD& '
migrationBuilderFF 
.FF 
AddForeignKeyFF *
(FF* +
nameGG 
:GG 
$strGG 8
,GG8 9
tableHH 
:HH 
$strHH %
,HH% &
columnII 
:II 
$strII  
,II  !
principalTableJJ 
:JJ 
$strJJ  +
,JJ+ ,
principalColumnKK 
:KK  
$strKK! %
,KK% &
onDeleteLL 
:LL 
ReferentialActionLL +
.LL+ ,
CascadeLL, 3
)LL3 4
;LL4 5
migrationBuilderNN 
.NN 
AddForeignKeyNN *
(NN* +
nameOO 
:OO 
$strOO 5
,OO5 6
tablePP 
:PP 
$strPP %
,PP% &
columnQQ 
:QQ 
$strQQ !
,QQ! "
principalTableRR 
:RR 
$strRR  '
,RR' (
principalColumnSS 
:SS  
$strSS! %
)SS% &
;SS& '
migrationBuilderUU 
.UU 
AddForeignKeyUU *
(UU* +
nameVV 
:VV 
$strVV 3
,VV3 4
tableWW 
:WW 
$strWW  
,WW  !
columnXX 
:XX 
$strXX  
,XX  !
principalTableYY 
:YY 
$strYY  +
,YY+ ,
principalColumnZZ 
:ZZ  
$strZZ! %
,ZZ% &
onDelete[[ 
:[[ 
ReferentialAction[[ +
.[[+ ,
Cascade[[, 3
)[[3 4
;[[4 5
}\\ 	
	protected__ 
override__ 
void__ 
Down__  $
(__$ %
MigrationBuilder__% 5
migrationBuilder__6 F
)__F G
{`` 	
migrationBuilderaa 
.aa 
DropForeignKeyaa +
(aa+ ,
namebb 
:bb 
$strbb 4
,bb4 5
tablecc 
:cc 
$strcc !
)cc! "
;cc" #
migrationBuilderee 
.ee 
DropForeignKeyee +
(ee+ ,
nameff 
:ff 
$strff <
,ff< =
tablegg 
:gg 
$strgg %
)gg% &
;gg& '
migrationBuilderii 
.ii 
DropForeignKeyii +
(ii+ ,
namejj 
:jj 
$strjj 8
,jj8 9
tablekk 
:kk 
$strkk %
)kk% &
;kk& '
migrationBuildermm 
.mm 
DropForeignKeymm +
(mm+ ,
namenn 
:nn 
$strnn 5
,nn5 6
tableoo 
:oo 
$stroo %
)oo% &
;oo& '
migrationBuilderqq 
.qq 
DropForeignKeyqq +
(qq+ ,
namerr 
:rr 
$strrr 3
,rr3 4
tabless 
:ss 
$strss  
)ss  !
;ss! "
migrationBuilderuu 
.uu 
	DropIndexuu &
(uu& '
namevv 
:vv 
$strvv 2
,vv2 3
tableww 
:ww 
$strww %
)ww% &
;ww& '
migrationBuilderyy 
.yy 
	DropIndexyy &
(yy& '
namezz 
:zz 
$strzz /
,zz/ 0
table{{ 
:{{ 
$str{{ %
){{% &
;{{& '
migrationBuilder}} 
.}} 

DropColumn}} '
(}}' (
name~~ 
:~~ 
$str~~ "
,~~" #
table 
: 
$str %
)% &
;& '
migrationBuilder
 
.
 

DropColumn
 '
(
' (
name
‚‚ 
:
‚‚ 
$str
‚‚ 
,
‚‚  
table
ƒƒ 
:
ƒƒ 
$str
ƒƒ %
)
ƒƒ% &
;
ƒƒ& '
migrationBuilder
…… 
.
…… 
	AddColumn
…… &
<
……& '
string
……' -
>
……- .
(
……. /
name
†† 
:
†† 
$str
†† $
,
††$ %
table
‡‡ 
:
‡‡ 
$str
‡‡ 
,
‡‡ 
type
ˆˆ 
:
ˆˆ 
$str
ˆˆ %
,
ˆˆ% &
nullable
‰‰ 
:
‰‰ 
false
‰‰ 
,
‰‰  
defaultValue
ŠŠ 
:
ŠŠ 
$str
ŠŠ  
)
ŠŠ  !
;
ŠŠ! "
migrationBuilder
ŒŒ 
.
ŒŒ 
	AddColumn
ŒŒ &
<
ŒŒ& '
string
ŒŒ' -
>
ŒŒ- .
(
ŒŒ. /
name
 
:
 
$str
 
,
 
table
ŽŽ 
:
ŽŽ 
$str
ŽŽ "
,
ŽŽ" #
type
 
:
 
$str
 %
,
% &
nullable
 
:
 
false
 
,
  
defaultValue
‘‘ 
:
‘‘ 
$str
‘‘  
)
‘‘  !
;
‘‘! "
migrationBuilder
““ 
.
““ 
AddForeignKey
““ *
(
““* +
name
”” 
:
”” 
$str
”” 0
,
””0 1
table
•• 
:
•• 
$str
•• !
,
••! "
column
–– 
:
–– 
$str
––  
,
––  !
principalTable
—— 
:
—— 
$str
——  '
,
——' (
principalColumn
˜˜ 
:
˜˜  
$str
˜˜! %
,
˜˜% &
onDelete
™™ 
:
™™ 
ReferentialAction
™™ +
.
™™+ ,
Cascade
™™, 3
)
™™3 4
;
™™4 5
migrationBuilder
›› 
.
›› 
AddForeignKey
›› *
(
››* +
name
œœ 
:
œœ 
$str
œœ 4
,
œœ4 5
table
 
:
 
$str
 %
,
% &
column
žž 
:
žž 
$str
žž  
,
žž  !
principalTable
ŸŸ 
:
ŸŸ 
$str
ŸŸ  '
,
ŸŸ' (
principalColumn
   
:
    
$str
  ! %
,
  % &
onDelete
¡¡ 
:
¡¡ 
ReferentialAction
¡¡ +
.
¡¡+ ,
Cascade
¡¡, 3
)
¡¡3 4
;
¡¡4 5
migrationBuilder
££ 
.
££ 
AddForeignKey
££ *
(
££* +
name
¤¤ 
:
¤¤ 
$str
¤¤ /
,
¤¤/ 0
table
¥¥ 
:
¥¥ 
$str
¥¥  
,
¥¥  !
column
¦¦ 
:
¦¦ 
$str
¦¦  
,
¦¦  !
principalTable
§§ 
:
§§ 
$str
§§  '
,
§§' (
principalColumn
¨¨ 
:
¨¨  
$str
¨¨! %
,
¨¨% &
onDelete
©© 
:
©© 
ReferentialAction
©© +
.
©©+ ,
Cascade
©©, 3
)
©©3 4
;
©©4 5
}
ªª 	
}
«« 
}¬¬ Ž
nC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250606084741_FixRecursiveSerialization.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class %
FixRecursiveSerialization 2
:3 4
	Migration5 >
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} ö
bC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250606084531_AddRoleToUser.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
AddRoleToUser &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} ê
\C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250606083817_AddRole.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
AddRole  
:! "
	Migration# ,
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} þ
fC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250606083132_AddNameToAuthUser.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
AddNameToAuthUser *
:+ ,
	Migration- 6
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} œ-
aC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250606081922_Registration.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
Registration %
:& '
	Migration( 1
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str -
,- .
table 
: 
$str 
) 
;  
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
, 
oldNullable 
: 
true !
)! "
;" #
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str 
, 
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue   
:   
$str    
)    !
;  ! "
migrationBuilder"" 
."" 
	AddColumn"" &
<""& '
string""' -
>""- .
("". /
name## 
:## 
$str## 
,## 
table$$ 
:$$ 
$str$$ "
,$$" #
type%% 
:%% 
$str%% %
,%%% &
nullable&& 
:&& 
false&& 
,&&  
defaultValue'' 
:'' 
$str''  
)''  !
;''! "
migrationBuilder)) 
.)) 
	AddColumn)) &
<))& '
int))' *
>))* +
())+ ,
name** 
:** 
$str** 
,** 
table++ 
:++ 
$str++ "
,++" #
type,, 
:,, 
$str,, 
,,, 
nullable-- 
:-- 
false-- 
,--  
defaultValue.. 
:.. 
$num.. 
)..  
;..  !
migrationBuilder00 
.00 
AddForeignKey00 *
(00* +
name11 
:11 
$str11 -
,11- .
table22 
:22 
$str22 
,22 
column33 
:33 
$str33  
,33  !
principalTable44 
:44 
$str44  '
,44' (
principalColumn55 
:55  
$str55! %
,55% &
onDelete66 
:66 
ReferentialAction66 +
.66+ ,
Cascade66, 3
)663 4
;664 5
}77 	
	protected:: 
override:: 
void:: 
Down::  $
(::$ %
MigrationBuilder::% 5
migrationBuilder::6 F
)::F G
{;; 	
migrationBuilder<< 
.<< 
DropForeignKey<< +
(<<+ ,
name== 
:== 
$str== -
,==- .
table>> 
:>> 
$str>> 
)>> 
;>>  
migrationBuilder@@ 
.@@ 

DropColumn@@ '
(@@' (
nameAA 
:AA 
$strAA $
,AA$ %
tableBB 
:BB 
$strBB 
)BB 
;BB  
migrationBuilderDD 
.DD 

DropColumnDD '
(DD' (
nameEE 
:EE 
$strEE 
,EE 
tableFF 
:FF 
$strFF "
)FF" #
;FF# $
migrationBuilderHH 
.HH 

DropColumnHH '
(HH' (
nameII 
:II 
$strII 
,II 
tableJJ 
:JJ 
$strJJ "
)JJ" #
;JJ# $
migrationBuilderLL 
.LL 
AlterColumnLL (
<LL( )
intLL) ,
>LL, -
(LL- .
nameMM 
:MM 
$strMM 
,MM 
tableNN 
:NN 
$strNN 
,NN 
typeOO 
:OO 
$strOO 
,OO 
nullablePP 
:PP 
truePP 
,PP 

oldClrTypeQQ 
:QQ 
typeofQQ "
(QQ" #
intQQ# &
)QQ& '
,QQ' (
oldTypeRR 
:RR 
$strRR 
)RR 
;RR  
migrationBuilderTT 
.TT 
AddForeignKeyTT *
(TT* +
nameUU 
:UU 
$strUU -
,UU- .
tableVV 
:VV 
$strVV 
,VV 
columnWW 
:WW 
$strWW  
,WW  !
principalTableXX 
:XX 
$strXX  '
,XX' (
principalColumnYY 
:YY  
$strYY! %
)YY% &
;YY& '
}ZZ 	
}[[ 
}\\ Ú
fC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250604184334_UnsavedChangesFix.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 
UnsavedChangesFix *
:+ ,
	Migration- 6
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
,  
table 
: 
$str  
,  !
type 
: 
$str %
,% &
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
,  
table 
: 
$str  
,  !
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
,  !

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType   
:   
$str   (
,  ( )
oldNullable!! 
:!! 
true!! !
)!!! "
;!!" #
}"" 	
}## 
}$$ ª+
_C:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250528133435_AddedAsync.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public 

partial 
class 

AddedAsync #
:$ %
	Migration& /
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <
Id< >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Email   
=   
table   !
.  ! "
Column  " (
<  ( )
string  ) /
>  / 0
(  0 1
type  1 5
:  5 6
$str  7 F
,  F G
nullable  H P
:  P Q
false  R W
)  W X
,  X Y
PasswordHash!!  
=!!! "
table!!# (
.!!( )
Column!!) /
<!!/ 0
string!!0 6
>!!6 7
(!!7 8
type!!8 <
:!!< =
$str!!> M
,!!M N
nullable!!O W
:!!W X
false!!Y ^
)!!^ _
,!!_ `
RoleId"" 
="" 
table"" "
.""" #
Column""# )
<"") *
int""* -
>""- .
("". /
type""/ 3
:""3 4
$str""5 :
,"": ;
nullable""< D
:""D E
false""F K
)""K L
,""L M
RefreshToken##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
string##0 6
>##6 7
(##7 8
type##8 <
:##< =
$str##> M
,##M N
nullable##O W
:##W X
false##Y ^
)##^ _
}$$ 
,$$ 
constraints%% 
:%% 
table%% "
=>%%# %
{&& 
table'' 
.'' 

PrimaryKey'' $
(''$ %
$str''% 3
,''3 4
x''5 6
=>''7 9
x'': ;
.''; <
Id''< >
)''> ?
;''? @
table(( 
.(( 

ForeignKey(( $
((($ %
name)) 
:)) 
$str)) =
,))= >
column** 
:** 
x**  !
=>**" $
x**% &
.**& '
RoleId**' -
,**- .
principalTable++ &
:++& '
$str++( 3
,++3 4
principalColumn,, '
:,,' (
$str,,) -
,,,- .
onDelete--  
:--  !
ReferentialAction--" 3
.--3 4
Cascade--4 ;
)--; <
;--< =
}.. 
).. 
;.. 
migrationBuilder00 
.00 
CreateIndex00 (
(00( )
name11 
:11 
$str11 +
,11+ ,
table22 
:22 
$str22 "
,22" #
column33 
:33 
$str33  
)33  !
;33! "
}44 	
	protected77 
override77 
void77 
Down77  $
(77$ %
MigrationBuilder77% 5
migrationBuilder776 F
)77F G
{88 	
migrationBuilder99 
.99 
	DropTable99 &
(99& '
name:: 
::: 
$str:: !
)::! "
;::" #
migrationBuilder<< 
.<< 
	DropTable<< &
(<<& '
name== 
:== 
$str== !
)==! "
;==" #
}>> 	
}?? 
}@@ Ë
bC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\Migrations\20250512093607_InitialCreate.cs
	namespace 	
DAL
 
. 

Migrations 
{ 
public		 

partial		 
class		 
InitialCreate		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
trueQ U
)U V
,V W
Code 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
DiscountAmount "
=# $
table% *
.* +
Column+ 1
<1 2
float2 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
PromotionEndTime $
=% &
table' ,
., -
Column- 3
<3 4
DateTime4 <
>< =
(= >
type> B
:B C
$strD O
,O P
nullableQ Y
:Y Z
false[ `
)` a
,a b

UsageCount 
=  
table! &
.& '
Column' -
<- .
int. 1
>1 2
(2 3
type3 7
:7 8
$str9 >
,> ?
nullable@ H
:H I
falseJ O
)O P
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 4
,4 5
x6 7
=>8 :
x; <
.< =
Id= ?
)? @
;@ A
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name   
:   
$str   !
,  ! "
columns!! 
:!! 
table!! 
=>!! !
new!!" %
{"" 
Id## 
=## 
table## 
.## 
Column## %
<##% &
int##& )
>##) *
(##* +
type##+ /
:##/ 0
$str##1 6
,##6 7
nullable##8 @
:##@ A
false##B G
)##G H
.$$ 

Annotation$$ #
($$# $
$str$$$ 8
,$$8 9
$str$$: @
)$$@ A
,$$A B
Name%% 
=%% 
table%%  
.%%  !
Column%%! '
<%%' (
string%%( .
>%%. /
(%%/ 0
type%%0 4
:%%4 5
$str%%6 E
,%%E F
nullable%%G O
:%%O P
true%%Q U
)%%U V
,%%V W
Description&& 
=&&  !
table&&" '
.&&' (
Column&&( .
<&&. /
string&&/ 5
>&&5 6
(&&6 7
type&&7 ;
:&&; <
$str&&= L
,&&L M
nullable&&N V
:&&V W
true&&X \
)&&\ ]
}'' 
,'' 
constraints(( 
:(( 
table(( "
=>((# %
{)) 
table** 
.** 

PrimaryKey** $
(**$ %
$str**% 3
,**3 4
x**5 6
=>**7 9
x**: ;
.**; <
Id**< >
)**> ?
;**? @
}++ 
)++ 
;++ 
migrationBuilder-- 
.-- 
CreateTable-- (
(--( )
name.. 
:.. 
$str.. 
,.. 
columns// 
:// 
table// 
=>// !
new//" %
{00 
Id11 
=11 
table11 
.11 
Column11 %
<11% &
int11& )
>11) *
(11* +
type11+ /
:11/ 0
$str111 6
,116 7
nullable118 @
:11@ A
false11B G
)11G H
.22 

Annotation22 #
(22# $
$str22$ 8
,228 9
$str22: @
)22@ A
,22A B
Name33 
=33 
table33  
.33  !
Column33! '
<33' (
int33( +
>33+ ,
(33, -
type33- 1
:331 2
$str333 8
,338 9
nullable33: B
:33B C
false33D I
)33I J
}44 
,44 
constraints55 
:55 
table55 "
=>55# %
{66 
table77 
.77 

PrimaryKey77 $
(77$ %
$str77% /
,77/ 0
x771 2
=>773 5
x776 7
.777 8
Id778 :
)77: ;
;77; <
}88 
)88 
;88 
migrationBuilder:: 
.:: 
CreateTable:: (
(::( )
name;; 
:;; 
$str;; !
,;;! "
columns<< 
:<< 
table<< 
=><< !
new<<" %
{== 
Id>> 
=>> 
table>> 
.>> 
Column>> %
<>>% &
int>>& )
>>>) *
(>>* +
type>>+ /
:>>/ 0
$str>>1 6
,>>6 7
nullable>>8 @
:>>@ A
false>>B G
)>>G H
.?? 

Annotation?? #
(??# $
$str??$ 8
,??8 9
$str??: @
)??@ A
,??A B
	StartTime@@ 
=@@ 
table@@  %
.@@% &
Column@@& ,
<@@, -
DateTime@@- 5
>@@5 6
(@@6 7
type@@7 ;
:@@; <
$str@@= H
,@@H I
nullable@@J R
:@@R S
false@@T Y
)@@Y Z
,@@Z [
EndTimeAA 
=AA 
tableAA #
.AA# $
ColumnAA$ *
<AA* +
DateTimeAA+ 3
>AA3 4
(AA4 5
typeAA5 9
:AA9 :
$strAA; F
,AAF G
nullableAAH P
:AAP Q
falseAAR W
)AAW X
,AAX Y

IsReservedBB 
=BB  
tableBB! &
.BB& '
ColumnBB' -
<BB- .
boolBB. 2
>BB2 3
(BB3 4
typeBB4 8
:BB8 9
$strBB: ?
,BB? @
nullableBBA I
:BBI J
falseBBK P
)BBP Q
}CC 
,CC 
constraintsDD 
:DD 
tableDD "
=>DD# %
{EE 
tableFF 
.FF 

PrimaryKeyFF $
(FF$ %
$strFF% 3
,FF3 4
xFF5 6
=>FF7 9
xFF: ;
.FF; <
IdFF< >
)FF> ?
;FF? @
}GG 
)GG 
;GG 
migrationBuilderII 
.II 
CreateTableII (
(II( )
nameJJ 
:JJ 
$strJJ 
,JJ 
columnsKK 
:KK 
tableKK 
=>KK !
newKK" %
{LL 
IdMM 
=MM 
tableMM 
.MM 
ColumnMM %
<MM% &
intMM& )
>MM) *
(MM* +
typeMM+ /
:MM/ 0
$strMM1 6
,MM6 7
nullableMM8 @
:MM@ A
falseMMB G
)MMG H
.NN 

AnnotationNN #
(NN# $
$strNN$ 8
,NN8 9
$strNN: @
)NN@ A
,NNA B
NameOO 
=OO 
tableOO  
.OO  !
ColumnOO! '
<OO' (
stringOO( .
>OO. /
(OO/ 0
typeOO0 4
:OO4 5
$strOO6 E
,OOE F
nullableOOG O
:OOO P
falseOOQ V
)OOV W
,OOW X
EmailPP 
=PP 
tablePP !
.PP! "
ColumnPP" (
<PP( )
stringPP) /
>PP/ 0
(PP0 1
typePP1 5
:PP5 6
$strPP7 F
,PPF G
nullablePPH P
:PPP Q
falsePPR W
)PPW X
,PPX Y
RoleIdQQ 
=QQ 
tableQQ "
.QQ" #
ColumnQQ# )
<QQ) *
intQQ* -
>QQ- .
(QQ. /
typeQQ/ 3
:QQ3 4
$strQQ5 :
,QQ: ;
nullableQQ< D
:QQD E
trueQQF J
)QQJ K
}RR 
,RR 
constraintsSS 
:SS 
tableSS "
=>SS# %
{TT 
tableUU 
.UU 

PrimaryKeyUU $
(UU$ %
$strUU% /
,UU/ 0
xUU1 2
=>UU3 5
xUU6 7
.UU7 8
IdUU8 :
)UU: ;
;UU; <
tableVV 
.VV 

ForeignKeyVV $
(VV$ %
nameWW 
:WW 
$strWW 5
,WW5 6
columnXX 
:XX 
xXX  !
=>XX" $
xXX% &
.XX& '
RoleIdXX' -
,XX- .
principalTableYY &
:YY& '
$strYY( /
,YY/ 0
principalColumnZZ '
:ZZ' (
$strZZ) -
)ZZ- .
;ZZ. /
}[[ 
)[[ 
;[[ 
migrationBuilder]] 
.]] 
CreateTable]] (
(]]( )
name^^ 
:^^ 
$str^^  
,^^  !
columns__ 
:__ 
table__ 
=>__ !
new__" %
{`` 
Idaa 
=aa 
tableaa 
.aa 
Columnaa %
<aa% &
intaa& )
>aa) *
(aa* +
typeaa+ /
:aa/ 0
$straa1 6
,aa6 7
nullableaa8 @
:aa@ A
falseaaB G
)aaG H
.bb 

Annotationbb #
(bb# $
$strbb$ 8
,bb8 9
$strbb: @
)bb@ A
,bbA B
UserIdcc 
=cc 
tablecc "
.cc" #
Columncc# )
<cc) *
intcc* -
>cc- .
(cc. /
typecc/ 3
:cc3 4
$strcc5 :
,cc: ;
nullablecc< D
:ccD E
falseccF K
)ccK L
,ccL M
Typedd 
=dd 
tabledd  
.dd  !
Columndd! '
<dd' (
intdd( +
>dd+ ,
(dd, -
typedd- 1
:dd1 2
$strdd3 8
,dd8 9
nullabledd: B
:ddB C
falseddD I
)ddI J
}ee 
,ee 
constraintsff 
:ff 
tableff "
=>ff# %
{gg 
tablehh 
.hh 

PrimaryKeyhh $
(hh$ %
$strhh% 2
,hh2 3
xhh4 5
=>hh6 8
xhh9 :
.hh: ;
Idhh; =
)hh= >
;hh> ?
tableii 
.ii 

ForeignKeyii $
(ii$ %
namejj 
:jj 
$strjj 8
,jj8 9
columnkk 
:kk 
xkk  !
=>kk" $
xkk% &
.kk& '
UserIdkk' -
,kk- .
principalTablell &
:ll& '
$strll( /
,ll/ 0
principalColumnmm '
:mm' (
$strmm) -
,mm- .
onDeletenn  
:nn  !
ReferentialActionnn" 3
.nn3 4
Cascadenn4 ;
)nn; <
;nn< =
}oo 
)oo 
;oo 
migrationBuilderqq 
.qq 
CreateTableqq (
(qq( )
namerr 
:rr 
$strrr $
,rr$ %
columnsss 
:ss 
tabless 
=>ss !
newss" %
{tt 
Iduu 
=uu 
tableuu 
.uu 
Columnuu %
<uu% &
intuu& )
>uu) *
(uu* +
typeuu+ /
:uu/ 0
$struu1 6
,uu6 7
nullableuu8 @
:uu@ A
falseuuB G
)uuG H
.vv 

Annotationvv #
(vv# $
$strvv$ 8
,vv8 9
$strvv: @
)vv@ A
,vvA B
UserIdww 
=ww 
tableww "
.ww" #
Columnww# )
<ww) *
intww* -
>ww- .
(ww. /
typeww/ 3
:ww3 4
$strww5 :
,ww: ;
nullableww< D
:wwD E
falsewwF K
)wwK L
,wwL M

ResourceIdxx 
=xx  
tablexx! &
.xx& '
Columnxx' -
<xx- .
intxx. 1
>xx1 2
(xx2 3
typexx3 7
:xx7 8
$strxx9 >
,xx> ?
nullablexx@ H
:xxH I
falsexxJ O
)xxO P
,xxP Q
SlotIdyy 
=yy 
tableyy "
.yy" #
Columnyy# )
<yy) *
intyy* -
>yy- .
(yy. /
typeyy/ 3
:yy3 4
$stryy5 :
,yy: ;
nullableyy< D
:yyD E
falseyyF K
)yyK L
}zz 
,zz 
constraints{{ 
:{{ 
table{{ "
=>{{# %
{|| 
table}} 
.}} 

PrimaryKey}} $
(}}$ %
$str}}% 6
,}}6 7
x}}8 9
=>}}: <
x}}= >
.}}> ?
Id}}? A
)}}A B
;}}B C
table~~ 
.~~ 

ForeignKey~~ $
(~~$ %
name 
: 
$str D
,D E
column
€€ 
:
€€ 
x
€€  !
=>
€€" $
x
€€% &
.
€€& '

ResourceId
€€' 1
,
€€1 2
principalTable
 &
:
& '
$str
( 3
,
3 4
principalColumn
‚‚ '
:
‚‚' (
$str
‚‚) -
,
‚‚- .
onDelete
ƒƒ  
:
ƒƒ  !
ReferentialAction
ƒƒ" 3
.
ƒƒ3 4
Cascade
ƒƒ4 ;
)
ƒƒ; <
;
ƒƒ< =
table
„„ 
.
„„ 

ForeignKey
„„ $
(
„„$ %
name
…… 
:
…… 
$str
…… @
,
……@ A
column
†† 
:
†† 
x
††  !
=>
††" $
x
††% &
.
††& '
SlotId
††' -
,
††- .
principalTable
‡‡ &
:
‡‡& '
$str
‡‡( 3
,
‡‡3 4
principalColumn
ˆˆ '
:
ˆˆ' (
$str
ˆˆ) -
,
ˆˆ- .
onDelete
‰‰  
:
‰‰  !
ReferentialAction
‰‰" 3
.
‰‰3 4
Cascade
‰‰4 ;
)
‰‰; <
;
‰‰< =
table
ŠŠ 
.
ŠŠ 

ForeignKey
ŠŠ $
(
ŠŠ$ %
name
‹‹ 
:
‹‹ 
$str
‹‹ <
,
‹‹< =
column
ŒŒ 
:
ŒŒ 
x
ŒŒ  !
=>
ŒŒ" $
x
ŒŒ% &
.
ŒŒ& '
UserId
ŒŒ' -
,
ŒŒ- .
principalTable
 &
:
& '
$str
( /
,
/ 0
principalColumn
ŽŽ '
:
ŽŽ' (
$str
ŽŽ) -
,
ŽŽ- .
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
}
 
)
 
;
 
migrationBuilder
’’ 
.
’’ 
CreateTable
’’ (
(
’’( )
name
““ 
:
““ 
$str
““ 
,
““  
columns
”” 
:
”” 
table
”” 
=>
”” !
new
””" %
{
•• 
Id
–– 
=
–– 
table
–– 
.
–– 
Column
–– %
<
––% &
int
––& )
>
––) *
(
––* +
type
––+ /
:
––/ 0
$str
––1 6
,
––6 7
nullable
––8 @
:
––@ A
false
––B G
)
––G H
.
—— 

Annotation
—— #
(
——# $
$str
——$ 8
,
——8 9
$str
——: @
)
——@ A
,
——A B
EscapeRoomId
˜˜  
=
˜˜! "
table
˜˜# (
.
˜˜( )
Column
˜˜) /
<
˜˜/ 0
int
˜˜0 3
>
˜˜3 4
(
˜˜4 5
type
˜˜5 9
:
˜˜9 :
$str
˜˜; @
,
˜˜@ A
nullable
˜˜B J
:
˜˜J K
false
˜˜L Q
)
˜˜Q R
,
˜˜R S
Rating
™™ 
=
™™ 
table
™™ "
.
™™" #
Column
™™# )
<
™™) *
int
™™* -
>
™™- .
(
™™. /
type
™™/ 3
:
™™3 4
$str
™™5 :
,
™™: ;
nullable
™™< D
:
™™D E
false
™™F K
)
™™K L
,
™™L M
Content
šš 
=
šš 
table
šš #
.
šš# $
Column
šš$ *
<
šš* +
string
šš+ 1
>
šš1 2
(
šš2 3
type
šš3 7
:
šš7 8
$str
šš9 H
,
ššH I
nullable
ššJ R
:
ššR S
false
ššT Y
)
ššY Z
,
ššZ [

ReviewTime
›› 
=
››  
table
››! &
.
››& '
Column
››' -
<
››- .
DateTime
››. 6
>
››6 7
(
››7 8
type
››8 <
:
››< =
$str
››> I
,
››I J
nullable
››K S
:
››S T
false
››U Z
)
››Z [
,
››[ \
UserId
œœ 
=
œœ 
table
œœ "
.
œœ" #
Column
œœ# )
<
œœ) *
int
œœ* -
>
œœ- .
(
œœ. /
type
œœ/ 3
:
œœ3 4
$str
œœ5 :
,
œœ: ;
nullable
œœ< D
:
œœD E
false
œœF K
)
œœK L
}
 
,
 
constraints
žž 
:
žž 
table
žž "
=>
žž# %
{
ŸŸ 
table
   
.
   

PrimaryKey
   $
(
  $ %
$str
  % 1
,
  1 2
x
  3 4
=>
  5 7
x
  8 9
.
  9 :
Id
  : <
)
  < =
;
  = >
table
¡¡ 
.
¡¡ 

ForeignKey
¡¡ $
(
¡¡$ %
name
¢¢ 
:
¢¢ 
$str
¢¢ A
,
¢¢A B
column
££ 
:
££ 
x
££  !
=>
££" $
x
££% &
.
££& '
EscapeRoomId
££' 3
,
££3 4
principalTable
¤¤ &
:
¤¤& '
$str
¤¤( 3
,
¤¤3 4
principalColumn
¥¥ '
:
¥¥' (
$str
¥¥) -
,
¥¥- .
onDelete
¦¦  
:
¦¦  !
ReferentialAction
¦¦" 3
.
¦¦3 4
Cascade
¦¦4 ;
)
¦¦; <
;
¦¦< =
table
§§ 
.
§§ 

ForeignKey
§§ $
(
§§$ %
name
¨¨ 
:
¨¨ 
$str
¨¨ 7
,
¨¨7 8
column
©© 
:
©© 
x
©©  !
=>
©©" $
x
©©% &
.
©©& '
UserId
©©' -
,
©©- .
principalTable
ªª &
:
ªª& '
$str
ªª( /
,
ªª/ 0
principalColumn
«« '
:
««' (
$str
««) -
,
««- .
onDelete
¬¬  
:
¬¬  !
ReferentialAction
¬¬" 3
.
¬¬3 4
Cascade
¬¬4 ;
)
¬¬; <
;
¬¬< =
}
­­ 
)
­­ 
;
­­ 
migrationBuilder
¯¯ 
.
¯¯ 
CreateIndex
¯¯ (
(
¯¯( )
name
°° 
:
°° 
$str
°° *
,
°°* +
table
±± 
:
±± 
$str
±± !
,
±±! "
column
²² 
:
²² 
$str
²²  
)
²²  !
;
²²! "
migrationBuilder
´´ 
.
´´ 
CreateIndex
´´ (
(
´´( )
name
µµ 
:
µµ 
$str
µµ *
,
µµ* +
table
¶¶ 
:
¶¶ 
$str
¶¶ #
,
¶¶# $
column
·· 
:
·· 
$str
·· 
,
·· 
unique
¸¸ 
:
¸¸ 
true
¸¸ 
)
¸¸ 
;
¸¸ 
migrationBuilder
ºº 
.
ºº 
CreateIndex
ºº (
(
ºº( )
name
»» 
:
»» 
$str
»» 2
,
»»2 3
table
¼¼ 
:
¼¼ 
$str
¼¼ %
,
¼¼% &
column
½½ 
:
½½ 
$str
½½ $
)
½½$ %
;
½½% &
migrationBuilder
¿¿ 
.
¿¿ 
CreateIndex
¿¿ (
(
¿¿( )
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ .
,
ÀÀ. /
table
ÁÁ 
:
ÁÁ 
$str
ÁÁ %
,
ÁÁ% &
column
ÂÂ 
:
ÂÂ 
$str
ÂÂ  
)
ÂÂ  !
;
ÂÂ! "
migrationBuilder
ÄÄ 
.
ÄÄ 
CreateIndex
ÄÄ (
(
ÄÄ( )
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ .
,
ÅÅ. /
table
ÆÆ 
:
ÆÆ 
$str
ÆÆ %
,
ÆÆ% &
column
ÇÇ 
:
ÇÇ 
$str
ÇÇ  
)
ÇÇ  !
;
ÇÇ! "
migrationBuilder
ÉÉ 
.
ÉÉ 
CreateIndex
ÉÉ (
(
ÉÉ( )
name
ÊÊ 
:
ÊÊ 
$str
ÊÊ )
,
ÊÊ) *
table
ËË 
:
ËË 
$str
ËË "
,
ËË" #
column
ÌÌ 
:
ÌÌ 
$str
ÌÌ 
,
ÌÌ 
unique
ÍÍ 
:
ÍÍ 
true
ÍÍ 
,
ÍÍ 
filter
ÎÎ 
:
ÎÎ 
$str
ÎÎ ,
)
ÎÎ, -
;
ÎÎ- .
migrationBuilder
ÐÐ 
.
ÐÐ 
CreateIndex
ÐÐ (
(
ÐÐ( )
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ /
,
ÑÑ/ 0
table
ÒÒ 
:
ÒÒ 
$str
ÒÒ  
,
ÒÒ  !
column
ÓÓ 
:
ÓÓ 
$str
ÓÓ &
,
ÓÓ& '
unique
ÔÔ 
:
ÔÔ 
true
ÔÔ 
)
ÔÔ 
;
ÔÔ 
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateIndex
ÖÖ (
(
ÖÖ( )
name
×× 
:
×× 
$str
×× )
,
××) *
table
ØØ 
:
ØØ 
$str
ØØ  
,
ØØ  !
column
ÙÙ 
:
ÙÙ 
$str
ÙÙ  
)
ÙÙ  !
;
ÙÙ! "
migrationBuilder
ÛÛ 
.
ÛÛ 
CreateIndex
ÛÛ (
(
ÛÛ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ &
,
ÜÜ& '
table
ÝÝ 
:
ÝÝ 
$str
ÝÝ 
,
ÝÝ 
column
ÞÞ 
:
ÞÞ 
$str
ÞÞ 
,
ÞÞ  
unique
ßß 
:
ßß 
true
ßß 
)
ßß 
;
ßß 
migrationBuilder
áá 
.
áá 
CreateIndex
áá (
(
áá( )
name
ââ 
:
ââ 
$str
ââ '
,
ââ' (
table
ãã 
:
ãã 
$str
ãã 
,
ãã 
column
ää 
:
ää 
$str
ää  
)
ää  !
;
ää! "
}
åå 	
	protected
èè 
override
èè 
void
èè 
Down
èè  $
(
èè$ %
MigrationBuilder
èè% 5
migrationBuilder
èè6 F
)
èèF G
{
éé 	
migrationBuilder
êê 
.
êê 
	DropTable
êê &
(
êê& '
name
ëë 
:
ëë 
$str
ëë  
)
ëë  !
;
ëë! "
migrationBuilder
íí 
.
íí 
	DropTable
íí &
(
íí& '
name
îî 
:
îî 
$str
îî "
)
îî" #
;
îî# $
migrationBuilder
ðð 
.
ðð 
	DropTable
ðð &
(
ðð& '
name
ññ 
:
ññ 
$str
ññ $
)
ññ$ %
;
ññ% &
migrationBuilder
óó 
.
óó 
	DropTable
óó &
(
óó& '
name
ôô 
:
ôô 
$str
ôô 
)
ôô  
;
ôô  !
migrationBuilder
öö 
.
öö 
	DropTable
öö &
(
öö& '
name
÷÷ 
:
÷÷ 
$str
÷÷ !
)
÷÷! "
;
÷÷" #
migrationBuilder
ùù 
.
ùù 
	DropTable
ùù &
(
ùù& '
name
úú 
:
úú 
$str
úú !
)
úú! "
;
úú" #
migrationBuilder
üü 
.
üü 
	DropTable
üü &
(
üü& '
name
ýý 
:
ýý 
$str
ýý 
)
ýý 
;
ýý 
migrationBuilder
ÿÿ 
.
ÿÿ 
	DropTable
ÿÿ &
(
ÿÿ& '
name
€€ 
:
€€ 
$str
€€ 
)
€€ 
;
€€ 
}
 	
}
‚‚ 
}ƒƒ ³>
JC:\Users\janha\source\repos\TehnologijeWeba1Projekt\DAL\DB\TW1DbContext.cs
	namespace 	
DAL
 
. 
DB 
{ 
public 

class 
TW1DbContext 
: 
	DbContext  )
{		 
public

 
TW1DbContext

 
(

 
DbContextOptions

 ,
<

, -
TW1DbContext

- 9
>

9 :
options

; B
)

B C
:

D E
base

F J
(

J K
options

K R
)

R S
{ 	
}
 
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Resource 
> 
	Resources (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
Reservation  
>  !
Reservations" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
Role 
> 
Roles  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Payment 
> 
Payments &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
Review 
> 
Reviews $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
	Promotion 
> 

Promotions  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
DbSet 
< 
TimeSlot 
> 
	TimeSlots (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
AuthUser 
> 
	AuthUsers (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
AuthRole 
> 
	AuthRoles (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
User  $
>$ %
(% &
)& '
.' (
HasIndex( 0
(0 1
u1 2
=>3 5
u6 7
.7 8
Email8 =
)= >
.> ?
IsUnique? G
(G H
)H I
;I J
modelBuilder 
. 
Entity 
<  
Resource  (
>( )
() *
)* +
.+ ,
HasIndex, 4
(4 5
r5 6
=>7 9
r: ;
.; <
Name< @
)@ A
.A B
IsUniqueB J
(J K
)K L
;L M
modelBuilder 
. 
Entity 
<  
Reservation  +
>+ ,
(, -
)- .
. 
HasOne 
( 
r 
=> 
r 
. 
User #
)# $
. 
WithMany 
( 
u 
=> 
u  
.  !
Reservations! -
)- .
. 
HasForeignKey 
( 
r  
=>! #
r$ %
.% &
UserId& ,
), -
;- .
modelBuilder   
.   
Entity   
<    
Reservation    +
>  + ,
(  , -
)  - .
.!! 
HasOne!! 
(!! 
r!! 
=>!! 
r!! 
.!! 
Resource!! '
)!!' (
."" 
WithMany"" 
("" 
)"" 
.## 
HasForeignKey## 
(## 
r##  
=>##! #
r##$ %
.##% &

ResourceId##& 0
)##0 1
;##1 2
modelBuilder$$ 
.$$ 
Entity$$ 
<$$  
Role$$  $
>$$$ %
($$% &
)$$& '
.%% 
HasMany%% 
(%% 
r%% 
=>%% 
r%% 
.%%  
users%%  %
)%%% &
.&& 
WithOne&& 
(&& 
)&& 
;&& 
modelBuilder'' 
.'' 
Entity'' 
<''  
Payment''  '
>''' (
(''( )
)'') *
.(( 
HasOne(( 
((( 
p(( 
=>(( 
p(( 
.(( 
User(( #
)((# $
.)) 
WithMany)) 
()) 
))) 
.** 
HasForeignKey** 
(** 
p**  
=>**! #
p**$ %
.**% &
UserId**& ,
)**, -
;**- .
modelBuilder++ 
.++ 
Entity++ 
<++  
Review++  &
>++& '
(++' (
)++( )
.,, 
HasOne,, 
(,, 
r,, 
=>,, 
r,, 
.,, 
User,, #
),,# $
.-- 
WithMany-- 
(-- 
)-- 
;-- 
modelBuilder.. 
... 
Entity.. 
<..  
Review..  &
>..& '
(..' (
)..( )
.// 
HasOne// 
(// 
r// 
=>// 
r// 
.// 

EscapeRoom// )
)//) *
.00 
WithOne00 
(00 
)00 
.11 
HasForeignKey11 
<11 
Review11 %
>11% &
(11& '
r11' (
=>11) +
r11, -
.11- .
EscapeRoomId11. :
)11: ;
;11; <
modelBuilder22 
.22 
Entity22 
<22  
	Promotion22  )
>22) *
(22* +
)22+ ,
.22, -
HasIndex22- 5
(225 6
p226 7
=>228 :
p22; <
.22< =
Code22= A
)22A B
.22B C
IsUnique22C K
(22K L
)22L M
;22M N
modelBuilder33 
.33 
Entity33 
<33  
TimeSlot33  (
>33( )
(33) *
)33* +
;33+ ,
modelBuilder55 
.55 
Entity55 
<55  
AuthUser55  (
>55( )
(55) *
)55* +
.66 
HasMany66 
<66 
Reservation66 $
>66$ %
(66% &
)66& '
.77 
WithOne77 
(77 
)77 
;77 
modelBuilder88 
.88 
Entity88 
<88  
AuthUser88  (
>88( )
(88) *
)88* +
.99 
HasOne99 
(99 
u99 
=>99 
u99 
.99 
Role99 #
)99# $
.:: 
WithMany:: 
(:: 
):: 
.;; 
HasForeignKey;; 
(;; 
u;;  
=>;;! #
u;;$ %
.;;% &
RoleId;;& ,
);;, -
;;;- .
}>> 	
}?? 
}@@ 